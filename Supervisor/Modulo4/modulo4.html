<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comunicaci√≥n Efectiva para Supervisores Mineros - Parte 1</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #2c3e50;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            color: #2c3e50;
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-align: center;
        }

        .header p {
            text-align: center;
            font-size: 1.2rem;
            color: #7f8c8d;
            margin-bottom: 20px;
        }

        /* Progress Bar */
        .progress-container {
            background: #ecf0f1;
            border-radius: 10px;
            padding: 5px;
            margin: 20px 0;
        }

        .progress-bar {
            height: 20px;
            background: linear-gradient(90deg, #27ae60, #2ecc71);
            border-radius: 8px;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.9rem;
        }

        /* Stats */
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.9);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #3498db;
            display: block;
        }

        /* Navigation */
        .nav-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .unit-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            border: 3px solid transparent;
        }

        .unit-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
        }

        .unit-card.completed {
            border-color: #27ae60;
            background: linear-gradient(135deg, rgba(39, 174, 96, 0.1), rgba(46, 204, 113, 0.1));
        }

        .unit-card.current {
            border-color: #3498db;
            background: linear-gradient(135deg, rgba(52, 152, 219, 0.1), rgba(155, 89, 182, 0.1));
        }

        .unit-icon {
            font-size: 3rem;
            margin-bottom: 15px;
            display: block;
            text-align: center;
        }

        .unit-title {
            font-size: 1.4rem;
            margin-bottom: 10px;
            color: #2c3e50;
            text-align: center;
        }

        .unit-description {
            color: #7f8c8d;
            margin-bottom: 15px;
            text-align: center;
        }

        .unit-progress {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
            font-size: 0.9rem;
        }

        .unit-status {
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .status-completed {
            background: #27ae60;
            color: white;
        }

        .status-in-progress {
            background: #f39c12;
            color: white;
        }

        .status-locked {
            background: #95a5a6;
            color: white;
        }

        /* Content Area */
        .content-area {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            min-height: 500px;
            display: none;
        }

        .content-area.active {
            display: block;
        }

        /* Lesson Content Styles */
        .lesson-header {
            border-bottom: 3px solid #3498db;
            padding-bottom: 20px;
            margin-bottom: 30px;
        }

        .lesson-title {
            font-size: 2.2rem;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .lesson-meta {
            color: #7f8c8d;
            font-size: 1.1rem;
        }

        .content-section {
            margin-bottom: 30px;
        }

        .content-section h3 {
            color: #2c3e50;
            font-size: 1.6rem;
            margin-bottom: 15px;
            border-left: 4px solid #3498db;
            padding-left: 15px;
        }

        .content-section h4 {
            color: #34495e;
            font-size: 1.3rem;
            margin: 20px 0 10px 0;
        }

        .highlight-box {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .highlight-box h4 {
            color: white;
            margin-bottom: 15px;
        }

        .example-box {
            background: #f8f9fa;
            border-left: 4px solid #28a745;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
        }

        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
        }

        /* Action Buttons */
        .action-buttons {
            display: flex;
            gap: 15px;
            margin: 30px 0;
            flex-wrap: wrap;
            justify-content: center;
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }

        .btn-primary {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
        }

        .btn-success {
            background: linear-gradient(135deg, #27ae60, #229954);
            color: white;
        }

        .btn-warning {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: white;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #95a5a6, #7f8c8d);
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        /* Game Area */
        .game-area {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .game-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .game-title {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .game-phase {
            background: rgba(255, 255, 255, 0.2);
            padding: 10px 20px;
            border-radius: 20px;
            display: inline-block;
            margin-bottom: 20px;
        }

        .game-content {
            background: rgba(255, 255, 255, 0.1);
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
            backdrop-filter: blur(10px);
        }

        .scenario-box {
            background: rgba(255, 255, 255, 0.15);
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid #ffffff;
        }

        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .option-card {
            background: rgba(255, 255, 255, 0.9);
            color: #2c3e50;
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .option-card:hover {
            background: rgba(255, 255, 255, 1);
            transform: translateY(-2px);
        }

        .option-card.selected {
            background: #27ae60;
            color: white;
        }

        .option-card.correct {
            background: #27ae60;
            color: white;
            border: 3px solid #ffffff;
        }

        .option-card.incorrect {
            background: #e74c3c;
            color: white;
            border: 3px solid #ffffff;
        }

        /* Quiz Styles */
        .quiz-area {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .quiz-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #3498db;
        }

        .quiz-progress {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .question-card {
            background: #ffffff;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 25px;
            margin: 20px 0;
        }

        .question-text {
            font-size: 1.2rem;
            color: #2c3e50;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .answers-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
        }

        .answer-option {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .answer-option:hover {
            background: #e9ecef;
            border-color: #3498db;
        }

        .answer-option.selected {
            background: #3498db;
            color: white;
            border-color: #2980b9;
        }

        .answer-option.correct {
            background: #27ae60;
            color: white;
            border-color: #229954;
        }

        .answer-option.incorrect {
            background: #e74c3c;
            color: white;
            border-color: #c0392b;
        }

        /* Footer */
        .footer {
            background: rgba(44, 62, 80, 0.95);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-top: 40px;
            text-align: center;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .unit-card {
                padding: 20px;
            }
            
            .lesson-title {
                font-size: 1.8rem;
            }
            
            .action-buttons {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
            }
            
            .options-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Animations */
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .slide-in {
            animation: slideIn 0.5s ease-out;
        }

        /* Achievement Animation */
        .achievement {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            animation: slideIn 0.5s ease-out;
        }

        .achievement-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header slide-in">
            <h1>üéØ Comunicaci√≥n Efectiva para Supervisores Mineros</h1>
            <p><strong>M√≥dulo Especializado para L√≠deres de Primera L√≠nea - Parte 1</strong></p>
            <p>Unidades 1-3: Fundamentos, T√©cnicas y Manejo de Conversaciones Dif√≠ciles</p>
            
            <!-- Progress Bar -->
            <div class="progress-container">
                <div class="progress-bar" id="mainProgress">0% Completado</div>
            </div>
            
            <!-- Stats -->
            <div class="stats">
                <div class="stat-card">
                    <span class="stat-number" id="pointsDisplay">0</span>
                    <span>Puntos</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="streakDisplay">0</span>
                    <span>D√≠as de Estudio</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="completedDisplay">0/3</span>
                    <span>Unidades</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="badgesDisplay">0</span>
                    <span>Logros</span>
                </div>
            </div>
        </div>

        <!-- Main Navigation -->
        <div id="mainNav" class="nav-container slide-in">
            <!-- Unit 1 Card -->
            <div class="unit-card current" data-unit="1">
                <span class="unit-icon">üó£Ô∏è</span>
                <h3 class="unit-title">Unidad 1: Fundamentos de la Comunicaci√≥n</h3>
                <p class="unit-description">Bases te√≥ricas, modelos comunicacionales y competencias esenciales para supervisores mineros</p>
                <div class="unit-progress">
                    <span>‚è±Ô∏è 20 min</span>
                    <span class="unit-status status-in-progress">En Progreso</span>
                </div>
            </div>

            <!-- Unit 2 Card -->
            <div class="unit-card" data-unit="2">
                <span class="unit-icon">üéØ</span>
                <h3 class="unit-title">Unidad 2: T√©cnicas de Comunicaci√≥n Efectiva</h3>
                <p class="unit-description">Herramientas pr√°cticas: escucha activa, asertividad, feedback constructivo y t√©cnicas de influencia</p>
                <div class="unit-progress">
                    <span>‚è±Ô∏è 25 min</span>
                    <span class="unit-status status-locked">Bloqueado</span>
                </div>
            </div>

            <!-- Unit 3 Card -->
            <div class="unit-card" data-unit="3">
                <span class="unit-icon">üîß</span>
                <h3 class="unit-title">Unidad 3: Manejo de Conversaciones Dif√≠ciles</h3>
                <p class="unit-description">Estrategias avanzadas para situaciones complejas, resoluci√≥n de conflictos y negociaci√≥n</p>
                <div class="unit-progress">
                    <span>‚è±Ô∏è 30 min</span>
                    <span class="unit-status status-locked">Bloqueado</span>
                </div>
            </div>
        </div>

        <!-- Content Areas -->
        <div id="content-1" class="content-area">
            <div class="lesson-header">
                <h2 class="lesson-title">üó£Ô∏è Unidad 1: Fundamentos de la Comunicaci√≥n</h2>
                <div class="lesson-meta">‚è±Ô∏è Tiempo estimado: 20 minutos | üë• Nivel: Fundamental</div>
            </div>
            
            <div class="content-section">
                <h3>üéØ Objetivos de Aprendizaje</h3>
                <ul>
                    <li>Comprender los fundamentos te√≥ricos de la comunicaci√≥n interpersonal</li>
                    <li>Identificar los elementos clave del proceso comunicacional</li>
                    <li>Reconocer las barreras m√°s comunes en el contexto minero</li>
                    <li>Aplicar principios b√°sicos para mejorar la efectividad comunicacional</li>
                </ul>
            </div>

            <div class="content-section">
                <h3>Definici√≥n y Conceptos Fundamentales</h3>
                <p>La comunicaci√≥n es el <strong>proceso din√°mico y bidireccional mediante el cual transmitimos informaci√≥n, ideas, sentimientos, actitudes y emociones</strong> de una persona a otra.</p>

                <div class="highlight-box">
                    <h4>üí° En el contexto minero, la comunicaci√≥n efectiva es cr√≠tica porque:</h4>
                    <ul>
                        <li><strong>Salva vidas:</strong> Las instrucciones claras previenen accidentes fatales</li>
                        <li><strong>Optimiza procesos:</strong> Reduce tiempos muertos y mejora productividad</li>
                        <li><strong>Fortalece equipos:</strong> Genera confianza y colaboraci√≥n efectiva</li>
                        <li><strong>Facilita el liderazgo:</strong> Permite influir positivamente en el comportamiento del equipo</li>
                    </ul>
                </div>

                <h4>üì° Elementos del Proceso Comunicacional</h4>
                <p>Todo proceso de comunicaci√≥n efectiva involucra los siguientes elementos interconectados:</p>

                <div class="example-box">
                    <h4>üîß Ejemplo Pr√°ctico - Situaci√≥n en Mina:</h4>
                    <p><strong>Emisor:</strong> Supervisor de turno<br>
                    <strong>Mensaje:</strong> "Necesitamos cambiar el procedimiento de voladura por condiciones geol√≥gicas inesperadas"<br>
                    <strong>Canal:</strong> Radio de comunicaci√≥n interna<br>
                    <strong>Receptor:</strong> Operador de equipos de perforaci√≥n<br>
                    <strong>Feedback:</strong> "Entendido, detengo operaciones y espero nuevas instrucciones"<br>
                    <strong>Contexto:</strong> Turno nocturno, condiciones clim√°ticas adversas, presi√≥n por cumplir meta de producci√≥n</p>
                </div>

                <h4>üöß Principales Barreras Comunicacionales en Miner√≠a</h4>
                
                <h4>1. Barreras F√≠sicas y Ambientales</h4>
                <ul>
                    <li><strong>Ruido industrial extremo:</strong> Maquinaria pesada que dificulta la audici√≥n</li>
                    <li><strong>Distancias operacionales:</strong> Comunicaci√≥n entre diferentes niveles de la mina</li>
                    <li><strong>Interferencias tecnol√≥gicas:</strong> Problemas de conectividad en zonas profundas</li>
                    <li><strong>Condiciones ambientales:</strong> Polvo, vibraciones, temperaturas extremas</li>
                </ul>

                <h4>2. Barreras Organizacionales</h4>
                <ul>
                    <li><strong>Jerarqu√≠as r√≠gidas:</strong> Temor a reportar problemas o hacer sugerencias</li>
                    <li><strong>Cultura de silencio:</strong> "No reportar malas noticias" para evitar conflictos</li>
                    <li><strong>Sobrecarga informacional:</strong> Exceso de protocolos y procedimientos</li>
                    <li><strong>Falta de retroalimentaci√≥n:</strong> Comunicaci√≥n unidireccional descendente</li>
                </ul>

                <h4>3. Barreras Interpersonales</h4>
                <ul>
                    <li><strong>Diferencias educacionales:</strong> Niveles t√©cnicos diversos en el equipo</li>
                    <li><strong>Experiencia generacional:</strong> Trabajadores veteranos vs. nuevos operarios</li>
                    <li><strong>Estilos de personalidad:</strong> Introvertidos vs. extrovertidos en situaciones de presi√≥n</li>
                    <li><strong>Estados emocionales:</strong> Estr√©s, fatiga, ansiedad por metas de producci√≥n</li>
                </ul>

                <div class="warning-box">
                    <h4>‚ö†Ô∏è Consecuencias de la Comunicaci√≥n Deficiente en Miner√≠a:</h4>
                    <ul>
                        <li><strong>Accidentes graves o fatales</strong> por malentendidos en procedimientos de seguridad</li>
                        <li><strong>P√©rdidas econ√≥micas significativas</strong> por errores en coordinaci√≥n operacional</li>
                        <li><strong>Deterioro del clima laboral</strong> y aumento de rotaci√≥n de personal</li>
                        <li><strong>Incumplimiento de normativas</strong> de seguridad y medio ambiente</li>
                        <li><strong>Reducci√≥n de productividad</strong> por falta de alineamiento en objetivos</li>
                    </ul>
                </div>
            </div>

            <div class="content-section">
                <h3>üéØ Principios Fundamentales para Comunicaci√≥n Efectiva</h3>

                <h4>Principio 1: Claridad y Precisi√≥n</h4>
                <p>En el entorno minero, <strong>cada palabra cuenta</strong>. Los mensajes deben ser espec√≠ficos, concretos y libres de ambig√ºedades.</p>
                
                <div class="example-box">
                    <p><strong>‚ùå Comunicaci√≥n Deficiente:</strong> "Hay que tener cuidado con ese equipo"</p>
                    <p><strong>‚úÖ Comunicaci√≥n Efectiva:</strong> "El cami√≥n CAT 797F matr√≠cula MC-2847 presenta falla hidr√°ulica en sistema de frenos. Prohibido su uso hasta revisi√≥n completa por mantenimiento"</p>
                </div>

                <h4>Principio 2: Oportunidad Temporal</h4>
                <p>La informaci√≥n debe comunicarse <strong>en el momento preciso</strong> cuando es relevante y √∫til para la toma de decisiones.</p>

                <h4>Principio 3: Canal Apropiado</h4>
                <p>Seleccionar el medio de comunicaci√≥n adecuado seg√∫n la urgencia, complejidad y audiencia del mensaje.</p>

                <h4>Principio 4: Retroalimentaci√≥n Activa</h4>
                <p>Confirmar que el mensaje fue comprendido correctamente y est√° siendo implementado seg√∫n lo esperado.</p>

                <h4>Principio 5: Adaptaci√≥n al Receptor</h4>
                <p>Ajustar el lenguaje, nivel t√©cnico y estilo comunicacional seg√∫n las caracter√≠sticas del equipo de trabajo.</p>
            </div>

            <div class="action-buttons">
                <button class="btn btn-success" onclick="startGames(1)">üéÆ Iniciar Juegos Educativos</button>
                <button class="btn btn-primary" onclick="startQuiz(1)">üìù Evaluaci√≥n Unidad 1</button>
                <button class="btn btn-secondary" onclick="showMainNav()">‚Ü©Ô∏è Volver al Men√∫ Principal</button>
            </div>
        </div>

        <div id="content-2" class="content-area">
            <div class="lesson-header">
                <h2 class="lesson-title">üéØ Unidad 2: T√©cnicas de Comunicaci√≥n Efectiva</h2>
                <div class="lesson-meta">‚è±Ô∏è Tiempo estimado: 25 minutos | üë• Nivel: Intermedio</div>
            </div>

            <div class="content-section">
                <h3>üéØ Objetivos de Aprendizaje</h3>
                <ul>
                    <li>Dominar t√©cnicas avanzadas de escucha activa en contextos operacionales</li>
                    <li>Aplicar principios de asertividad para comunicaci√≥n directa y respetuosa</li>
                    <li>Implementar metodolog√≠as efectivas de feedback constructivo</li>
                    <li>Desarrollar habilidades de influencia y persuasi√≥n √©tica</li>
                </ul>
            </div>

            <div class="content-section">
                <h3>üéß Escucha Activa: Fundamento de la Comunicaci√≥n Superior</h3>
                
                <p>La escucha activa es <strong>la competencia comunicacional m√°s subestimada y m√°s impactante</strong> que puede desarrollar un supervisor minero. Va m√°s all√° de simplemente "o√≠r" las palabras; implica un proceso cognitivo y emocional completo de comprensi√≥n, interpretaci√≥n y respuesta efectiva.</p>

                <div class="highlight-box">
                    <h4>üß† Componentes de la Escucha Activa:</h4>
                    <ul>
                        <li><strong>Atenci√≥n plena:</strong> Concentraci√≥n total en el mensaje y el emisor</li>
                        <li><strong>Interpretaci√≥n precisa:</strong> Decodificar tanto contenido expl√≠cito como impl√≠cito</li>
                        <li><strong>Respuesta apropiada:</strong> Feedback que demuestra comprensi√≥n y fomenta di√°logo</li>
                        <li><strong>Retenci√≥n efectiva:</strong> Recordar informaci√≥n clave para acciones futuras</li>
                    </ul>
                </div>

                <h4>‚ö° T√©cnicas Pr√°cticas de Escucha Activa en Miner√≠a</h4>

                <h4>1. Parafraseo Efectivo</h4>
                <p>Repetir con tus propias palabras lo que la otra persona comunic√≥, para confirmar comprensi√≥n.</p>
                
                <div class="example-box">
                    <p><strong>Operario dice:</strong> "Este equipo est√° fallando constantemente, ya no aguanto esta situaci√≥n"</p>
                    <p><strong>Parafraseo efectivo:</strong> "Si entiendo correctamente, est√°s experimentando fallas repetitivas en el equipo que te est√° generando frustraci√≥n y afectando tu capacidad de trabajar eficientemente. ¬øEs as√≠?"</p>
                </div>

                <h4>2. Indagaci√≥n Efectiva</h4>
                <p>Hacer preguntas que profundicen la comprensi√≥n y ayuden a identificar soluciones.</p>

                <ul>
                    <li><strong>Preguntas abiertas:</strong> "¬øQu√© aspectos espec√≠ficos del procedimiento te resultan m√°s desafiantes?"</li>
                    <li><strong>Preguntas de clarificaci√≥n:</strong> "Cuando mencionas 'problemas de coordinaci√≥n', ¬øte refieres a timing, comunicaci√≥n o recursos?"</li>
                    <li><strong>Preguntas de exploraci√≥n:</strong> "¬øQu√© crees que necesitar√≠amos cambiar para mejorar esta situaci√≥n?"</li>
                </ul>

                <h4>3. Validaci√≥n Emocional</h4>
                <p>Reconocer y legitimar las emociones de la otra persona sin necesariamente estar de acuerdo con su posici√≥n.</p>

                <div class="example-box">
                    <p><strong>Validaci√≥n efectiva:</strong> "Entiendo que la presi√≥n por cumplir las metas en estas condiciones clim√°ticas te est√° generando mucho estr√©s. Es natural sentirse as√≠ cuando las circunstancias est√°n fuera de nuestro control directo."</p>
                </div>

                <h3>üí™ Comunicaci√≥n Asertiva: El Equilibrio Perfecto</h3>

                <p>La asertividad es <strong>la capacidad de expresar pensamientos, sentimientos, opiniones y necesidades de manera directa, honesta y respetuosa</strong>, sin agredir ni someterse.</p>

                <div class="highlight-box">
                    <h4>üéØ Caracter√≠sticas de la Comunicaci√≥n Asertiva:</h4>
                    <ul>
                        <li><strong>Directa pero respetuosa:</strong> Mensajes claros sin ambig√ºedades</li>
                        <li><strong>Responsable:</strong> Uso de lenguaje en primera persona</li>
                        <li><strong>Espec√≠fica:</strong> Enfoque en comportamientos y situaciones concretas</li>
                        <li><strong>Orientada a soluciones:</strong> Propone alternativas constructivas</li>
                    </ul>
                </div>

                <h4>üìã T√©cnica DESC para Comunicaci√≥n Asertiva</h4>
                
                <p><strong>D</strong>escribir - <strong>E</strong>xpresar - <strong>S</strong>olicitar - <strong>C</strong>onsecuencias</p>

                <div class="example-box">
                    <h4>üîß Ejemplo Pr√°ctico - Operario que no usa EPP:</h4>
                    <p><strong>Describir:</strong> "He observado que en tres ocasiones esta semana no has estado usando el casco en la zona de carga"</p>
                    <p><strong>Expresar:</strong> "Me preocupa enormemente tu seguridad y la responsabilidad que tengo como supervisor de proteger al equipo"</p>
                    <p><strong>Solicitar:</strong> "Necesito que uses el EPP completo en todo momento seg√∫n el protocolo de seguridad"</p>
                    <p><strong>Consecuencias:</strong> "Si continuamos trabajando con estas medidas de seguridad, podr√© contar con tu colaboraci√≥n en proyectos especiales que requieren experiencia como la tuya"</p>
                </div>

                <h3>üîÑ Feedback Constructivo: Arte de la Mejora Continua</h3>

                <p>El feedback efectivo es <strong>informaci√≥n espec√≠fica y oportuna que ayuda a las personas a mejorar su desempe√±o</strong> y desarrollo profesional.</p>

                <h4>üéØ Modelo SBI-I para Feedback Efectivo</h4>
                <p><strong>S</strong>ituaci√≥n - <strong>B</strong>ehavior (Comportamiento) - <strong>I</strong>mpacto - <strong>I</strong>ntenci√≥n</p>

                <div class="example-box">
                    <h4>üí° Feedback Positivo:</h4>
                    <p><strong>Situaci√≥n:</strong> "Durante la reuni√≥n de planificaci√≥n de esta ma√±ana..."</p>
                    <p><strong>Comportamiento:</strong> "...propusiste modificar la secuencia de voladura para optimizar el tiempo de carga..."</p>
                    <p><strong>Impacto:</strong> "...lo que result√≥ en un ahorro de 45 minutos y mayor seguridad operacional..."</p>
                    <p><strong>Intenci√≥n:</strong> "Quiero reconocer tu iniciativa porque este tipo de pensamiento proactivo es exactly lo que necesitamos para ser m√°s eficientes y seguros."</p>
                </div>

                <div class="warning-box">
                    <h4>‚ö†Ô∏è Errores Comunes en Feedback:</h4>
                    <ul>
                        <li><strong>Feedback tipo s√°ndwich:</strong> Positivo-Negativo-Positivo (confunde el mensaje principal)</li>
                        <li><strong>Generalizaci√≥n excesiva:</strong> "Siempre llegas tarde" vs. "Has llegado tarde 3 d√≠as esta semana"</li>
                        <li><strong>Atacar personalidad:</strong> "Eres descuidado" vs. "El reporte ten√≠a 5 errores de c√°lculo"</li>
                        <li><strong>Feedback tard√≠o:</strong> Esperar semanas para abordar problemas cr√≠ticos</li>
                    </ul>
                </div>
            </div>

            <div class="action-buttons">
                <button class="btn btn-success" onclick="startGames(2)">üéÆ Iniciar Juegos Educativos</button>
                <button class="btn btn-primary" onclick="startQuiz(2)">üìù Evaluaci√≥n Unidad 2</button>
                <button class="btn btn-secondary" onclick="showMainNav()">‚Ü©Ô∏è Volver al Men√∫ Principal</button>
            </div>
        </div>

        <div id="content-3" class="content-area">
            <div class="lesson-header">
                <h2 class="lesson-title">üîß Unidad 3: Manejo de Conversaciones Dif√≠ciles</h2>
                <div class="lesson-meta">‚è±Ô∏è Tiempo estimado: 30 minutos | üë• Nivel: Avanzado</div>
            </div>

            <div class="content-section">
                <h3>üéØ Objetivos de Aprendizaje</h3>
                <ul>
                    <li>Identificar y prepararse para diferentes tipos de conversaciones dif√≠ciles</li>
                    <li>Aplicar metodolog√≠as estructuradas para abordar conflictos interpersonales</li>
                    <li>Desarrollar inteligencia emocional para manejar situaciones de alta tensi√≥n</li>
                    <li>Implementar estrategias de resoluci√≥n colaborativa de problemas</li>
                </ul>
            </div>

            <div class="content-section">
                <h3>üåä Definici√≥n y Caracter√≠sticas de Conversaciones Dif√≠ciles</h3>
                
                <p>Las conversaciones dif√≠ciles en supervisi√≥n minera son <strong>interacciones comunicacionales complejas</strong> que involucran temas sensibles, emociones intensas, resistencia al cambio, conflictos de intereses o situaciones donde existe riesgo de deterioro en las relaciones laborales.</p>

                <div class="highlight-box">
                    <h4>üéØ Caracter√≠sticas de Conversaciones Dif√≠ciles en Miner√≠a:</h4>
                    <ul>
                        <li><strong>Alto contenido emocional:</strong> Situaciones que generan ansiedad, frustraci√≥n, temor</li>
                        <li><strong>Implicaciones de seguridad:</strong> Temas relacionados con comportamientos riesgosos</li>
                        <li><strong>Impacto en relaciones:</strong> Potencial de afectar la confianza y colaboraci√≥n</li>
                        <li><strong>Consecuencias organizacionales:</strong> Decisiones que afectan estabilidad laboral</li>
                        <li><strong>Presi√≥n temporal:</strong> Resoluci√≥n en contextos operacionales urgentes</li>
                    </ul>
                </div>

                <h3>üìä Tipolog√≠a de Conversaciones Dif√≠ciles en Operaciones Mineras</h3>

                <h4>üö® Tipo 1: Conversaciones de Correcci√≥n de Seguridad</h4>
                <ul>
                    <li><strong>Incumplimiento de protocolos:</strong> No uso de EPP, omisi√≥n de procedimientos</li>
                    <li><strong>Comportamientos riesgosos:</strong> Atajos peligrosos, violaci√≥n de zona de seguridad</li>
                    <li><strong>Reporting de near-miss:</strong> Resistencia a reportar incidentes menores</li>
                </ul>

                <div class="example-box">
                    <h4>üîß Caso Real: Operario Experimentado que Rechaza Nuevo Protocolo</h4>
                    <p><strong>Situaci√≥n:</strong> Juan, operario con 15 a√±os de experiencia, argumenta que el nuevo procedimiento de bloqueo/etiquetado es "innecesario" y ralentiza la producci√≥n.</p>
                    <p><strong>Desaf√≠o:</strong> Su experiencia le da credibilidad con el equipo, pero su resistencia puede influir negativamente en la adopci√≥n de medidas cr√≠ticas de seguridad.</p>
                </div>

                <h4>‚ö° Tipo 2: Conversaciones de Performance y Rendimiento</h4>
                <ul>
                    <li><strong>Bajo desempe√±o persistente:</strong> No cumplimiento de metas operacionales</li>
                    <li><strong>Errores recurrentes:</strong> Mistakes que impactan productividad o seguridad</li>
                    <li><strong>Falta de iniciativa:</strong> Pasividad ante problemas operacionales</li>
                </ul>

                <h4>üë• Tipo 3: Conversaciones de Conflicto Interpersonal</h4>
                <ul>
                    <li><strong>Tensiones entre turnos:</strong> Culparse mutuamente por problemas operacionales</li>
                    <li><strong>Conflictos generacionales:</strong> Veteranos vs. nuevos trabajadores</li>
                    <li><strong>Disputas de recursos:</strong> Competencia por equipos, herramientas, asignaciones</li>
                </ul>

                <h3>üßò Metodolog√≠a CALM para Conversaciones Dif√≠ciles</h3>

                <p><strong>C</strong>entrar - <strong>A</strong>bordar - <strong>L</strong>istening (Escuchar) - <strong>M</strong>over hacia soluciones</p>

                <h4>üéØ Fase C: Centrar (Preparaci√≥n Mental y Emocional)</h4>
                
                <div class="highlight-box">
                    <h4>T√©cnicas de Centramiento Pre-Conversaci√≥n:</h4>
                    <ul>
                        <li><strong>Respiraci√≥n consciente:</strong> 3 respiraciones profundas antes de iniciar</li>
                        <li><strong>Clarificaci√≥n de objetivos:</strong> ¬øQu√© necesito lograr espec√≠ficamente?</li>
                        <li><strong>Check emocional personal:</strong> ¬øCu√°l es mi estado emocional actual?</li>
                        <li><strong>Empat√≠a anticipada:</strong> ¬øDesde qu√© perspectiva puede estar viendo el otro la situaci√≥n?</li>
                    </ul>
                </div>

                <h4>üì¢ Fase A: Abordar (Inicio Estrat√©gico de la Conversaci√≥n)</h4>

                <div class="example-box">
                    <h4>Estructura de Apertura Efectiva:</h4>
                    <p><strong>1. Contexto y prop√≥sito:</strong> "Juan, necesito conversar contigo sobre el nuevo protocolo de bloqueo y tu feedback al respecto"</p>
                    <p><strong>2. Invitaci√≥n a colaborar:</strong> "Me interesa entender tu perspectiva y encontrar la mejor forma de implementar esto manteniendo nuestra eficiencia"</p>
                    <p><strong>3. Marco de tiempo:</strong> "¬øTienes 15 minutos ahora o prefieres que lo hagamos despu√©s del turno?"</p>
                </div>

                <h4>üëÇ Fase L: Listening (Escucha Profunda y Comprensi√≥n)</h4>

                <p>En conversaciones dif√≠ciles, la calidad de escucha determina el 70% del resultado exitoso.</p>

                <ul>
                    <li><strong>Escuchar para comprender, no para responder</strong></li>
                    <li><strong>Identificar emociones subyacentes</strong> detr√°s de las palabras</li>
                    <li><strong>Parafrasear regularmente</strong> para confirmar comprensi√≥n</li>
                    <li><strong>Hacer preguntas de profundizaci√≥n</strong> emp√°tica</li>
                </ul>

                <h4>üöÄ Fase M: Mover hacia Soluciones (Resoluci√≥n Colaborativa)</h4>

                <div class="example-box">
                    <h4>Proceso de Co-creaci√≥n de Soluciones:</h4>
                    <p><strong>1. Identificar puntos en com√∫n:</strong> "Ambos queremos mantener la seguridad sin sacrificar eficiencia"</p>
                    <p><strong>2. Brainstorming colaborativo:</strong> "¬øQu√© ideas tienes para implementar esto de manera m√°s eficiente?"</p>
                    <p><strong>3. Evaluaci√≥n conjunta:</strong> "De estas opciones, ¬øcu√°l crees que tendr√≠a mejor recepci√≥n del equipo?"</p>
                    <p><strong>4. Compromiso espec√≠fico:</strong> "Entonces acordamos probarlo por una semana y evaluar el impacto"</p>
                </div>

                <h3>üß† Inteligencia Emocional en Conversaciones Cr√≠ticas</h3>

                <h4>üé≠ Manejo de Emociones Propias</h4>
                <ul>
                    <li><strong>Autoconciencia emocional:</strong> Reconocer triggers personales</li>
                    <li><strong>Autorregulaci√≥n:</strong> Mantener compostura bajo presi√≥n</li>
                    <li><strong>Flexibilidad cognitiva:</strong> Adaptarse cuando la conversaci√≥n toma direcciones inesperadas</li>
                </ul>

                <h4>üíù Manejo de Emociones del Otro</h4>
                <ul>
                    <li><strong>Reconocimiento emp√°tico:</strong> "Veo que esto te est√° frustrando mucho"</li>
                    <li><strong>Validaci√≥n emocional:</strong> "Es comprensible que sientas incertidumbre ante estos cambios"</li>
                    <li><strong>Reencuadre constructivo:</strong> "Tu experiencia es exactly lo que necesitamos para hacer esto mejor"</li>
                </ul>

                <div class="warning-box">
                    <h4>üö´ Errores Fatales en Conversaciones Dif√≠ciles:</h4>
                    <ul>
                        <li><strong>Evitar la conversaci√≥n</strong> esperando que el problema se resuelva solo</li>
                        <li><strong>Usar mensajes de email/WhatsApp</strong> para temas sensibles que requieren conversaci√≥n presencial</li>
                        <li><strong>Abordar m√∫ltiples problemas</strong> en una sola conversaci√≥n</li>
                        <li><strong>Tener la conversaci√≥n cuando est√°s emocionalmente alterado</strong></li>
                        <li><strong>Asumir intenciones maliciosas</strong> sin verificar la perspectiva del otro</li>
                    </ul>
                </div>
            </div>

            <div class="action-buttons">
                <button class="btn btn-success" onclick="startGames(3)">üéÆ Iniciar Juegos Educativos</button>
                <button class="btn btn-primary" onclick="startQuiz(3)">üìù Evaluaci√≥n Unidad 3</button>
                <button class="btn btn-secondary" onclick="showMainNav()">‚Ü©Ô∏è Volver al Men√∫ Principal</button>
            </div>
        </div>

        <!-- Game Area -->
        <div id="gameArea" class="game-area" style="display: none;">
            <div class="game-header">
                <h2 class="game-title" id="gameTitle">Juego Educativo</h2>
                <div class="game-phase" id="gamePhase">Fase 1 de 10</div>
                <div style="text-align: center; margin: 10px 0;">
                    <span style="background: rgba(255,255,255,0.2); padding: 10px 20px; border-radius: 20px;">
                        üéØ Puntos: <span id="gamePoints">0</span>
                    </span>
                </div>
            </div>
            <div class="game-content" id="gameContent">
                <!-- Dynamic game content will be inserted here -->
            </div>
            <div class="action-buttons">
                <button class="btn btn-primary" id="gameNext" onclick="nextGamePhase()" style="display:none;">Siguiente Fase ‚û°Ô∏è</button>
                <button class="btn btn-success" id="gameComplete" onclick="completeGame()" style="display:none;">‚úÖ Completar Juego</button>
                <button class="btn btn-secondary" onclick="exitGame()">‚Ü©Ô∏è Salir del Juego</button>
            </div>
        </div>

        <!-- Quiz Area -->
        <div id="quizArea" class="quiz-area" style="display: none;">
            <div class="quiz-header">
                <h2 id="quizTitle">Evaluaci√≥n</h2>
                <p>Demuestra tu comprensi√≥n de los conceptos aprendidos</p>
            </div>
            
            <div class="quiz-progress">
                <div>
                    <strong>Pregunta <span id="currentQ">1</span> de <span id="totalQ">20</span></strong>
                </div>
                <div>
                    <span>‚è±Ô∏è Sin l√≠mite de tiempo</span>
                </div>
                <div>
                    <strong>Puntuaci√≥n: <span id="quizScore">0</span> puntos</strong>
                </div>
            </div>

            <div class="question-card" id="questionCard">
                <div class="question-text" id="questionText">
                    Pregunta aparecer√° aqu√≠...
                </div>
                <div class="answers-grid" id="answersGrid">
                    <!-- Dynamic answers will be inserted here -->
                </div>
            </div>

            <div class="action-buttons">
                <button class="btn btn-primary" id="submitAnswer" onclick="submitAnswer()" disabled>üìù Responder</button>
                <button class="btn btn-success" id="nextQuestion" onclick="nextQuestion()" style="display:none;">Siguiente Pregunta ‚û°Ô∏è</button>
                <button class="btn btn-warning" id="finishQuiz" onclick="finishQuiz()" style="display:none;">üèÅ Finalizar Evaluaci√≥n</button>
                <button class="btn btn-secondary" onclick="exitQuiz()">‚Ü©Ô∏è Salir de la Evaluaci√≥n</button>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <h3>üèÜ Plataforma de Capacitaci√≥n Minera</h3>
            <p>&copy; 2024 - M√≥dulo de Comunicaci√≥n Efectiva para Supervisores de Primera L√≠nea</p>
            <p>Todos los derechos reservados.</p>
            <p>Plataforma educativa especializada en capacitaci√≥n para la industria minera</p>
        </div>
    </div>

    <!-- Achievement Modal -->
    <div id="achievementModal" class="achievement" style="display: none;">
        <div class="achievement-icon">üèÜ</div>
        <h3>¬°Felicitaciones!</h3>
        <p id="achievementText">Has desbloqueado un nuevo logro</p>
    </div>

    <script>
        // Estado global de la aplicaci√≥n
        let appState = {
            currentUnit: 0,
            currentSection: 'content',
            currentGameType: 0,
            currentGamePhase: 0,
            currentQuizQuestion: 0,
            completedUnits: JSON.parse(localStorage.getItem('completedUnits') || '[]'),
            points: parseInt(localStorage.getItem('points') || '0'),
            streak: parseInt(localStorage.getItem('streak') || '0'),
            badges: JSON.parse(localStorage.getItem('badges') || '[]'),
            gameScores: JSON.parse(localStorage.getItem('gameScores') || '{}'),
            quizScores: JSON.parse(localStorage.getItem('quizScores') || '{}'),
            lastStudyDate: localStorage.getItem('lastStudyDate') || null,
            currentQuizAnswers: [],
            selectedAnswer: null
        };

        // Base de datos de juegos educativos
        const gamesDatabase = {
            1: [ // Unidad 1 - 5 tipos de juegos
                {
                    type: "Identificaci√≥n de Barreras",
                    phases: [
                        {
                            title: "Identifica la Barrera Comunicacional",
                            scenario: "En la mina El Cobre, el supervisor Mario intenta comunicar nuevas medidas de seguridad, pero el ruido de los equipos impide que los operarios escuchen claramente las instrucciones.",
                            question: "¬øQu√© tipo de barrera comunicacional se presenta?",
                            options: ["Barrera F√≠sica/Ambiental", "Barrera Organizacional", "Barrera Interpersonal", "Barrera Tecnol√≥gica"],
                            correct: 0,
                            explanation: "El ruido de los equipos es una barrera f√≠sica/ambiental que impide la transmisi√≥n efectiva del mensaje."
                        },
                        {
                            title: "Reconoce el Elemento del Proceso",
                            scenario: "La supervisora Ana env√≠a por radio: 'Atenci√≥n equipo de perforaci√≥n, cambien a zona B-7 inmediatamente por condiciones geol√≥gicas adversas en zona actual'",
                            question: "En este ejemplo, ¬øcu√°l es el CANAL de comunicaci√≥n?",
                            options: ["El mensaje sobre el cambio de zona", "La radio de comunicaci√≥n", "La supervisora Ana", "El equipo de perforaci√≥n"],
                            correct: 1,
                            explanation: "La radio es el medio f√≠sico a trav√©s del cual se transmite el mensaje."
                        }
                    ]
                },
                {
                    type: "An√°lisis de Situaciones",
                    phases: [
                        {
                            title: "Eval√∫a la Efectividad Comunicacional",
                            scenario: "Durante el cambio de turno, el supervisor saliente le dice al entrante: 'Hay algunos problemitas por ah√≠, f√≠jate'",
                            question: "¬øQu√© principio de comunicaci√≥n efectiva se est√° violando?",
                            options: ["Claridad y Precisi√≥n", "Oportunidad Temporal", "Canal Apropiado", "Adaptaci√≥n al Receptor"],
                            correct: 0,
                            explanation: "El mensaje carece de claridad y precisi√≥n. No especifica qu√© problemas, d√≥nde est√°n, ni su nivel de criticidad."
                        }
                    ]
                },
                {
                    type: "Aplicaci√≥n de Principios",
                    phases: [
                        {
                            title: "Mejora la Comunicaci√≥n",
                            scenario: "Un operario nuevo se ve confundido durante la explicaci√≥n de un procedimiento de seguridad. Baja la cabeza y no hace preguntas.",
                            question: "¬øCu√°l es la mejor acci√≥n aplicando el principio de 'Adaptaci√≥n al Receptor'?",
                            options: [
                                "Continuar con la explicaci√≥n normal",
                                "Pausar, usar lenguaje m√°s simple y preguntar espec√≠ficamente si hay dudas",
                                "Pedirle que lea el manual despu√©s",
                                "Asignarle un compa√±ero veterano"
                            ],
                            correct: 1,
                            explanation: "Adaptar el mensaje al receptor incluye reconocer se√±ales no verbales y ajustar el enfoque comunicacional."
                        }
                    ]
                },
                {
                    type: "Casos Pr√°cticos",
                    phases: [
                        {
                            title: "Soluciona el Problema Comunicacional",
                            scenario: "Durante una emergencia menor, el supervisor necesita comunicar un cambio de procedimiento urgente a 15 operarios distribuidos en 3 niveles diferentes de la mina.",
                            question: "¬øCu√°l es la estrategia de comunicaci√≥n m√°s efectiva?",
                            options: [
                                "Enviar un mensaje de WhatsApp grupal",
                                "Usar radio general y solicitar confirmaci√≥n individual por niveles",
                                "Esperar a reunir a todos f√≠sicamente",
                                "Comunicar solo a los jefes de nivel"
                            ],
                            correct: 1,
                            explanation: "En emergencias, la radio garantiza llegada inmediata y la confirmaci√≥n por niveles asegura comprensi√≥n."
                        }
                    ]
                },
                {
                    type: "Evaluaci√≥n de Contexto",
                    phases: [
                        {
                            title: "Analiza el Contexto Minero",
                            scenario: "Es turno de noche, lluvia intensa, y necesitas comunicar que se suspender√°n las operaciones de voladura por 2 horas debido a condiciones clim√°ticas.",
                            question: "¬øQu√© elementos del contexto debes considerar especialmente?",
                            options: [
                                "Solo la informaci√≥n t√©cnica de la suspensi√≥n",
                                "Hora, clima, impacto emocional, canales disponibles y necesidad de confirmaci√≥n",
                                "√önicamente el tiempo de suspensi√≥n",
                                "Solo usar el canal de radio"
                            ],
                            correct: 1,
                            explanation: "El contexto minero nocturno y clim√°tico requiere considerar m√∫ltiples factores que afectan la comunicaci√≥n efectiva."
                        }
                    ]
                }
            ],
            2: [ // Unidad 2 - 5 tipos de juegos
                {
                    type: "Pr√°ctica de Escucha Activa",
                    phases: [
                        {
                            title: "Selecciona el Mejor Parafraseo",
                            scenario: "Un operario te dice: 'Este nuevo procedimiento es muy complicado y me est√° tomando el doble de tiempo completar mis tareas'",
                            question: "¬øCu√°l es el parafraseo m√°s efectivo?",
                            options: [
                                "Entiendo que no te gusta el procedimiento nuevo",
                                "Si entiendo bien, el nuevo procedimiento te est√° resultando complejo y est√° impactando tu tiempo de ejecuci√≥n, ¬øes correcto?",
                                "Todos se quejan del procedimiento al principio",
                                "¬øQuieres que te ayude con el procedimiento?"
                            ],
                            correct: 1,
                            explanation: "Este parafraseo refleja tanto el contenido (procedimiento complejo) como el impacto (doble tiempo) y busca confirmaci√≥n."
                        }
                    ]
                },
                {
                    type: "T√©cnica DESC",
                    phases: [
                        {
                            title: "Aplica la T√©cnica DESC",
                            scenario: "Un operario experimantado frecuentemente interrumpe las reuniones de seguridad, afectando la concentraci√≥n del equipo.",
                            question: "¬øCu√°l es la mejor aplicaci√≥n de DESC?",
                            options: [
                                "Simplemente pedirle que no interrumpa m√°s",
                                "Describir: 'En las √∫ltimas 3 reuniones has interrumpido 5 veces'. Expresar: 'Me preocupa que perdamos informaci√≥n cr√≠tica'. Solicitar: 'Te pido que anotes tus preguntas y las hagas al final'. Consecuencias: 'As√≠ todos podremos beneficiarnos de tu experiencia de manera m√°s efectiva'",
                                "Ignorar la situaci√≥n",
                                "Hablar con recursos humanos"
                            ],
                            correct: 1,
                            explanation: "DESC permite abordar el comportamiento espec√≠ficamente sin atacar a la persona, enfoc√°ndose en soluciones constructivas."
                        }
                    ]
                },
                {
                    type: "Feedback Constructivo",
                    phases: [
                        {
                            title: "Aplica el Modelo SBI-I",
                            scenario: "Un operario nuevo mostr√≥ excelente iniciativa al identificar y reportar un riesgo potencial en el √°rea de carga.",
                            question: "¬øCu√°l es el mejor feedback usando SBI-I?",
                            options: [
                                "Buen trabajo, sigue as√≠",
                                "Situaci√≥n: 'Esta ma√±ana durante la inspecci√≥n'. Comportamiento: 'Identificaste que el cable de la gr√∫a ten√≠a desgaste anormal y lo reportaste inmediatamente'. Impacto: 'Esto previno un accidente potencial y mostr√≥ compromiso con la seguridad'. Intenci√≥n: 'Quiero reconocer esta actitud proactiva porque es exactly lo que necesitamos para mantener altos est√°ndares'",
                                "Te felicito por encontrar el problema",
                                "Eso es lo que esperamos de todos"
                            ],
                            correct: 1,
                            explanation: "SBI-I proporciona feedback espec√≠fico, contextualizado y orientado al desarrollo, maximizando el impacto positivo."
                        }
                    ]
                },
                {
                    type: "Comunicaci√≥n Asertiva",
                    phases: [
                        {
                            title: "Practica la Asertividad",
                            scenario: "Tu jefe te pide que aceleres un proceso de mantenimiento, pero sabes que hacerlo comprometer√≠a la seguridad del equipo.",
                            question: "¬øCu√°l es la respuesta m√°s asertiva?",
                            options: [
                                "De acuerdo, lo haremos m√°s r√°pido",
                                "Entiendo la necesidad de acelerar el proceso. Mi preocupaci√≥n es que reducir el tiempo de mantenimiento preventivo podr√≠a generar riesgos de seguridad. Propongo revisar juntos qu√© pasos podemos optimizar sin comprometer la integridad del procedimiento",
                                "No se puede hacer m√°s r√°pido",
                                "Es muy peligroso acelerar eso"
                            ],
                            correct: 1,
                            explanation: "La comunicaci√≥n asertiva reconoce la necesidad del jefe mientras expresa la preocupaci√≥n leg√≠tima y propone soluciones colaborativas."
                        }
                    ]
                },
                {
                    type: "Indagaci√≥n Efectiva",
                    phases: [
                        {
                            title: "Formula Preguntas Efectivas",
                            scenario: "Un operario parece desmotivado y su rendimiento ha bajado en las √∫ltimas semanas. Cuando le preguntas 'c√≥mo est√°s', responde 'bien, todo normal'.",
                            question: "¬øCu√°l es la mejor pregunta de indagaci√≥n?",
                            options: [
                                "¬øEst√°s seguro de que todo est√° bien?",
                                "He notado algunos cambios en tu energ√≠a habitual. ¬øQu√© factores podr√≠an estar influyendo en tu motivaci√≥n en el trabajo √∫ltimamente?",
                                "¬øTienes alg√∫n problema?",
                                "¬øPor qu√© has bajado tu rendimiento?"
                            ],
                            correct: 1,
                            explanation: "Esta pregunta es espec√≠fica, no amenazante, y invita a la reflexi√≥n profunda sin asumir problemas negativos."
                        }
                    ]
                }
            ],
            3: [ // Unidad 3 - 5 tipos de juegos
                {
                    type: "Metodolog√≠a CALM",
                    phases: [
                        {
                            title: "Aplica la Fase 'Centrar'",
                            scenario: "Juan, operario experimentado, est√° resistiendo adoptar el nuevo protocolo de seguridad argumentando que 'es p√©rdida de tiempo y no previene nada real'",
                            question: "¬øCu√°l ser√≠a la mejor preparaci√≥n mental antes de la conversaci√≥n?",
                            options: [
                                "Pensar en c√≥mo convencerlo de que est√° equivocado",
                                "Respirar profundamente, clarificar que el objetivo es entender su perspectiva y encontrar soluciones juntos, reconocer que su resistencia puede venir de su experiencia",
                                "Preparar argumentos sobre por qu√© el protocolo es importante",
                                "Decidir qu√© consecuencias aplicar si no coopera"
                            ],
                            correct: 1,
                            explanation: "La fase 'Centrar' requiere preparaci√≥n emocional y mental para abordar la conversaci√≥n desde la colaboraci√≥n, no la confrontaci√≥n."
                        }
                    ]
                },
                {
                    type: "Manejo de Emociones",
                    phases: [
                        {
                            title: "Aplica Inteligencia Emocional",
                            scenario: "Durante una conversaci√≥n sobre bajo rendimiento, el operario se pone defensivo y dice: 'Siempre me echan la culpa de todo, nunca reconocen lo que hago bien'",
                            question: "¬øCu√°l es la mejor respuesta usando inteligencia emocional?",
                            options: [
                                "No te estoy echando la culpa, solo queremos mejorar",
                                "Entiendo que sientes frustraci√≥n porque percibes que no se reconoce tu trabajo positivo. Esa sensaci√≥n debe ser muy desmotivante. Cu√©ntame m√°s sobre qu√© situaciones espec√≠ficas te han hecho sentir as√≠",
                                "No es cierto, siempre reconocemos el buen trabajo",
                                "Vamos a enfocarnos en los problemas, no en excusas"
                            ],
                            correct: 1,
                            explanation: "Esta respuesta valida la emoci√≥n, demuestra comprensi√≥n emp√°tica y redirige hacia la exploraci√≥n constructiva."
                        }
                    ]
                },
                {
                    type: "Resoluci√≥n de Conflictos",
                    phases: [
                        {
                            title: "Media un Conflicto Interpersonal",
                            scenario: "Dos operarios del mismo nivel est√°n en conflicto porque uno acusa al otro de no mantener limpia su √°rea de trabajo, afectando la eficiencia del turno siguiente.",
                            question: "¬øCu√°l es la mejor estrategia de mediaci√≥n?",
                            options: [
                                "Decidir qui√©n tiene raz√≥n y dar la orden",
                                "Reunir a ambos, establecer reglas de di√°logo, permitir que cada uno exprese su perspectiva sin interrupciones, identificar puntos en com√∫n y co-crear soluciones espec√≠ficas",
                                "Hablar con cada uno por separado",
                                "Implementar una pol√≠tica estricta de limpieza"
                            ],
                            correct: 1,
                            explanation: "La mediaci√≥n efectiva requiere estructura, escucha equitativa y enfoque en soluciones colaborativas."
                        }
                    ]
                },
                {
                    type: "Conversaciones de Correcci√≥n",
                    phases: [
                        {
                            title: "Aborda un Problema de Seguridad",
                            scenario: "Has observado que un operario no est√° usando correctamente su arn√©s de seguridad en altura, poniendo en riesgo su vida y la de sus compa√±eros.",
                            question: "¬øCu√°l es el abordaje m√°s efectivo para esta conversaci√≥n cr√≠tica?",
                            options: [
                                "Gritarle inmediatamente que use el arn√©s",
                                "Detener el trabajo inmediatamente, llevarlo a un lugar privado, describir espec√≠ficamente lo observado, explicar los riesgos, escuchar su perspectiva y acordar acciones concretas",
                                "Reportarlo directamente a recursos humanos",
                                "Enviarle un email recordando las normas"
                            ],
                            correct: 1,
                            explanation: "Las conversaciones de seguridad requieren acci√≥n inmediata pero abordaje estructurado que combine firmeza con respeto."
                        }
                    ]
                },
                {
                    type: "Co-creaci√≥n de Soluciones",
                    phases: [
                        {
                            title: "Genera Soluciones Colaborativas",
                            scenario: "El equipo est√° desmotivado porque sienten que los horarios de los turnos no les permiten conciliar vida familiar. La productividad est√° bajando.",
                            question: "¬øC√≥mo facilitar√≠as una soluci√≥n colaborativa?",
                            options: [
                                "Explicar que los horarios no se pueden cambiar",
                                "Convocar sesi√≥n de brainstorming donde el equipo proponga alternativas, evaluar juntos la viabilidad, probar soluciones piloto por tiempo determinado y medir resultados",
                                "Implementar horarios flexibles inmediatamente",
                                "Consultar con recursos humanos √∫nicamente"
                            ],
                            correct: 1,
                            explanation: "La co-creaci√≥n involucra al equipo en el dise√±o de soluciones, aumentando el compromiso y la efectividad de la implementaci√≥n."
                        }
                    ]
                }
            ]
        };

        // Base de datos de evaluaciones
        const quizDatabase = {
            1: [ // Unidad 1 - 10 preguntas funcionales
                {
                    question: "¬øCu√°l es la definici√≥n m√°s completa de comunicaci√≥n efectiva en el contexto minero?",
                    options: [
                        "Transmitir informaci√≥n de manera clara",
                        "Proceso din√°mico y bidireccional de transmisi√≥n de informaci√≥n, ideas y emociones que impacta directamente en la seguridad y productividad operacional",
                        "Hablar fuerte para que todos escuchen",
                        "Enviar mensajes por radio"
                    ],
                    correct: 1,
                    explanation: "La comunicaci√≥n efectiva en miner√≠a va m√°s all√° de la claridad; debe ser bidireccional y considerar el impacto en seguridad y productividad."
                },
                {
                    question: "¬øCu√°l de las siguientes NO es una barrera f√≠sica/ambiental t√≠pica en operaciones mineras?",
                    options: [
                        "Ruido industrial extremo",
                        "Interferencias tecnol√≥gicas",
                        "Diferencias educacionales",
                        "Condiciones ambientales adversas"
                    ],
                    correct: 2,
                    explanation: "Las diferencias educacionales son barreras interpersonales, no f√≠sicas/ambientales."
                },
                {
                    question: "El principio de 'Claridad y Precisi√≥n' en comunicaci√≥n minera significa:",
                    options: [
                        "Hablar despacio",
                        "Usar palabras t√©cnicas complejas",
                        "Ser espec√≠fico, concreto y libre de ambig√ºedades",
                        "Repetir el mensaje varias veces"
                    ],
                    correct: 2,
                    explanation: "La claridad requiere mensajes espec√≠ficos y concretos, especialmente cr√≠tico en el ambiente minero donde cada palabra cuenta."
                },
                {
                    question: "¬øCu√°l es un ejemplo de barrera organizacional en comunicaci√≥n minera?",
                    options: [
                        "Ruido de maquinaria pesada",
                        "Jerarqu√≠as r√≠gidas que limitan el reporte de problemas",
                        "Diferencias de personalidad",
                        "Problemas de conectividad"
                    ],
                    correct: 1,
                    explanation: "Las jerarqu√≠as r√≠gidas son estructuras organizacionales que pueden inhibir la comunicaci√≥n ascendente efectiva."
                },
                {
                    question: "En el proceso comunicacional, el 'feedback' es importante porque:",
                    options: [
                        "Es una cortes√≠a profesional",
                        "Confirma que el mensaje fue comprendido y est√° siendo implementado correctamente",
                        "Alarga la conversaci√≥n",
                        "Es requerido por protocolo"
                    ],
                    correct: 1,
                    explanation: "El feedback cierra el ciclo comunicacional asegurando comprensi√≥n e implementaci√≥n adecuada."
                },
                {
                    question: "Una consecuencia grave de comunicaci√≥n deficiente en miner√≠a puede ser:",
                    options: [
                        "P√©rdida de tiempo en reuniones",
                        "Accidentes graves o fatales por malentendidos en procedimientos",
                        "Gastos adicionales en papeler√≠a",
                        "Mayor uso de tecnolog√≠a"
                    ],
                    correct: 1,
                    explanation: "En miner√≠a, la comunicaci√≥n deficiente puede tener consecuencias fatales, especialmente en procedimientos de seguridad."
                },
                {
                    question: "El principio de 'Adaptaci√≥n al Receptor' implica:",
                    options: [
                        "Usar siempre el mismo mensaje",
                        "Ajustar el lenguaje y estilo seg√∫n las caracter√≠sticas del equipo",
                        "Hablar m√°s fuerte",
                        "Usar solo comunicaci√≥n escrita"
                    ],
                    correct: 1,
                    explanation: "Adaptar el mensaje considera las caracter√≠sticas, experiencia y contexto del receptor para maximizar la efectividad."
                },
                {
                    question: "¬øCu√°l es la mejor pr√°ctica para comunicaci√≥n de emergencias en miner√≠a?",
                    options: [
                        "Enviar email detallado",
                        "Usar canales m√∫ltiples con confirmaci√≥n de recepci√≥n",
                        "Esperar a tener toda la informaci√≥n",
                        "Comunicar solo a supervisores"
                    ],
                    correct: 1,
                    explanation: "En emergencias, usar m√∫ltiples canales y confirmar recepci√≥n asegura que el mensaje cr√≠tico llegue efectivamente."
                },
                {
                    question: "Una barrera interpersonal com√∫n en equipos mineros es:",
                    options: [
                        "Falta de radios",
                        "Diferencias generacionales entre trabajadores veteranos y nuevos",
                        "Ruido ambiental",
                        "Falta de procedimientos escritos"
                    ],
                    correct: 1,
                    explanation: "Las diferencias generacionales pueden crear barreras en estilos comunicacionales y perspectivas laborales."
                },
                {
                    question: "El contexto minero requiere comunicaci√≥n efectiva principalmente porque:",
                    options: [
                        "Es requerido por ley",
                        "Impacta directamente en seguridad, productividad y vida de las personas",
                        "Facilita el trabajo administrativo",
                        "Mejora las relaciones p√∫blicas"
                    ],
                    correct: 1,
                    explanation: "En miner√≠a, la comunicaci√≥n efectiva es cr√≠tica para la seguridad operacional y puede literalmente salvar vidas."
                }
            ],
            2: [ // Unidad 2 - 10 preguntas funcionales
                {
                    question: "En la t√©cnica de escucha activa, ¬øqu√© significa 'validaci√≥n emocional'?",
                    options: [
                        "Estar de acuerdo con lo que dice la otra persona",
                        "Reconocer y legitimar las emociones de la otra persona sin necesariamente estar de acuerdo con su posici√≥n",
                        "Dar consejos sobre c√≥mo manejar emociones",
                        "Minimizar las emociones para mantener la profesionalidad"
                    ],
                    correct: 1,
                    explanation: "La validaci√≥n emocional reconoce los sentimientos como leg√≠timos sin requerir acuerdo con la posici√≥n o comportamiento."
                },
                {
                    question: "La t√©cnica DESC para comunicaci√≥n asertiva significa:",
                    options: [
                        "Describir - Evaluar - Solicitar - Confirmar",
                        "Describir - Expresar - Solicitar - Consecuencias",
                        "Decidir - Explicar - Supervisar - Controlar",
                        "Detectar - Estudiar - Solucionar - Concluir"
                    ],
                    correct: 1,
                    explanation: "DESC estructura la comunicaci√≥n asertiva: Describir la situaci√≥n, Expresar sentimientos, Solicitar cambios, mencionar Consecuencias positivas."
                },
                {
                    question: "En el parafraseo efectivo, lo m√°s importante es:",
                    options: [
                        "Repetir exactamente las mismas palabras",
                        "Reflejar tanto el contenido como las emociones del mensaje",
                        "Agregar tu propia interpretaci√≥n",
                        "Acortar el mensaje original"
                    ],
                    correct: 1,
                    explanation: "El parafraseo efectivo captura tanto el contenido informacional como el componente emocional del mensaje original."
                },
                {
                    question: "Una pregunta de indagaci√≥n efectiva debe ser:",
                    options: [
                        "Cerrada para obtener respuesta espec√≠fica",
                        "Abierta, no amenazante y que invite a la reflexi√≥n",
                        "Directa y confrontacional",
                        "M√∫ltiple para obtener m√°s informaci√≥n"
                    ],
                    correct: 1,
                    explanation: "Las preguntas abiertas y no amenazantes fomentan el di√°logo profundo y la reflexi√≥n genuina."
                },
                {
                    question: "El modelo SBI-I para feedback significa:",
                    options: [
                        "Situaci√≥n - Comportamiento - Impacto - Intenci√≥n",
                        "Supervisor - B√°sico - Individual - Inmediato",
                        "Seguridad - Beneficio - Inter√©s - Implementaci√≥n",
                        "Sistema - Buscar - Identificar - Integrar"
                    ],
                    correct: 0,
                    explanation: "SBI-I estructura feedback espec√≠fico: Situaci√≥n, Comportamiento observado, Impacto generado, e Intenci√≥n del feedback."
                },
                {
                    question: "La comunicaci√≥n asertiva se caracteriza por:",
                    options: [
                        "Ser agresiva cuando es necesario",
                        "Evitar conflictos a toda costa",
                        "Expresar pensamientos y sentimientos de manera directa y respetuosa",
                        "Someterse a las opiniones de otros"
                    ],
                    correct: 2,
                    explanation: "La asertividad equilibra la expresi√≥n directa de ideas con el respeto hacia otros, sin agresi√≥n ni sumisi√≥n."
                },
                {
                    question: "Un error com√∫n en el feedback es:",
                    options: [
                        "Ser demasiado espec√≠fico",
                        "Usar el m√©todo 's√°ndwich' (positivo-negativo-positivo)",
                        "Dar feedback inmediatamente",
                        "Enfocarse en comportamientos observables"
                    ],
                    correct: 1,
                    explanation: "El m√©todo 's√°ndwich' puede confundir el mensaje principal y diluir la efectividad del feedback constructivo."
                },
                {
                    question: "La escucha activa incluye principalmente:",
                    options: [
                        "Pensar en la respuesta mientras el otro habla",
                        "Atenci√≥n plena, interpretaci√≥n precisa y respuesta apropiada",
                        "Tomar notas de todo lo que se dice",
                        "Interrumpir para hacer clarificaciones"
                    ],
                    correct: 1,
                    explanation: "La escucha activa requiere concentraci√≥n total, comprensi√≥n profunda y respuesta que demuestre la comprensi√≥n."
                },
                {
                    question: "Para dar feedback efectivo sobre bajo rendimiento, es mejor:",
                    options: [
                        "Hacerlo p√∫blicamente para que otros aprendan",
                        "Enfocarse en comportamientos espec√≠ficos, no en la personalidad",
                        "Esperar a la evaluaci√≥n anual",
                        "Comenzar destacando aspectos positivos"
                    ],
                    correct: 1,
                    explanation: "El feedback efectivo se enfoca en comportamientos espec√≠ficos y observables, no en caracter√≠sticas personales."
                },
                {
                    question: "La indagaci√≥n efectiva en supervisi√≥n busca principalmente:",
                    options: [
                        "Obtener confesiones de errores",
                        "Profundizar la comprensi√≥n y facilitar soluciones colaborativas",
                        "Demostrar superioridad t√©cnica",
                        "Encontrar culpables de los problemas"
                    ],
                    correct: 1,
                    explanation: "La indagaci√≥n efectiva busca comprensi√≥n mutua y desarrollo de soluciones, no asignaci√≥n de culpas."
                }
            ],
            3: [ // Unidad 3 - 10 preguntas funcionales
                {
                    question: "En la metodolog√≠a CALM, ¬øqu√© representa la fase 'C' (Centrar)?",
                    options: [
                        "Controlar la conversaci√≥n",
                        "Criticar el comportamiento",
                        "Preparaci√≥n mental y emocional antes de iniciar la conversaci√≥n dif√≠cil",
                        "Crear un ambiente formal"
                    ],
                    correct: 2,
                    explanation: "La fase 'Centrar' implica prepararse mental y emocionalmente para manejar efectivamente la conversaci√≥n dif√≠cil."
                },
                {
                    question: "Una conversaci√≥n dif√≠cil en supervisi√≥n minera se caracteriza por:",
                    options: [
                        "Durar m√°s de 30 minutos",
                        "Involucrar temas sensibles con alto contenido emocional y potencial impacto en relaciones",
                        "Requerir la presencia de recursos humanos",
                        "Necesitar documentaci√≥n escrita previa"
                    ],
                    correct: 1,
                    explanation: "Las conversaciones dif√≠ciles involucran emociones intensas, temas sensibles y riesgo de impacto negativo en las relaciones laborales."
                },
                {
                    question: "Al manejar resistencia a cambios de procedimientos, lo m√°s efectivo es:",
                    options: [
                        "Imponer la autoridad inmediatamente",
                        "Escuchar las preocupaciones, validar la experiencia y co-crear soluciones",
                        "Amenazar con consecuencias disciplinarias",
                        "Ignorar la resistencia y continuar"
                    ],
                    correct: 1,
                    explanation: "Manejar resistencia requiere comprensi√≥n emp√°tica y enfoque colaborativo que respete la experiencia del trabajador."
                },
                {
                    question: "La inteligencia emocional en conversaciones cr√≠ticas incluye:",
                    options: [
                        "Suprimir todas las emociones",
                        "Reconocer emociones propias y del otro, y manejarlas constructivamente",
                        "Expresar emociones sin restricciones",
                        "Evitar temas que generen emociones"
                    ],
                    correct: 1,
                    explanation: "La inteligencia emocional implica conciencia y manejo apropiado de emociones para facilitar comunicaci√≥n constructiva."
                },
                {
                    question: "En una conversaci√≥n de correcci√≥n de seguridad, lo primero debe ser:",
                    options: [
                        "Documentar la infracci√≥n",
                        "Detener el trabajo si hay riesgo inmediato",
                        "Hablar con el jefe directo",
                        "Programar una reuni√≥n formal"
                    ],
                    correct: 1,
                    explanation: "La seguridad inmediata tiene prioridad absoluta; primero se asegura la integridad f√≠sica, luego se aborda la conversaci√≥n."
                },
                {
                    question: "La co-creaci√≥n de soluciones en conversaciones dif√≠ciles significa:",
                    options: [
                        "Que el supervisor decide y explica",
                        "Que el trabajador propone y el supervisor aprueba",
                        "Desarrollar soluciones conjuntamente, involucrando al trabajador en el proceso",
                        "Que recursos humanos decida"
                    ],
                    correct: 2,
                    explanation: "La co-creaci√≥n involucra activamente al trabajador en el desarrollo de soluciones, aumentando compromiso y efectividad."
                },
                {
                    question: "Un error fatal en conversaciones dif√≠ciles es:",
                    options: [
                        "Tomar notas durante la conversaci√≥n",
                        "Tener la conversaci√≥n cuando est√°s emocionalmente alterado",
                        "Hacer preguntas abiertas",
                        "Buscar soluciones espec√≠ficas"
                    ],
                    correct: 1,
                    explanation: "Las conversaciones dif√≠ciles requieren control emocional; hacerlas bajo alteraci√≥n emocional suele generar da√±o relacional."
                },
                {
                    question: "Al mediar un conflicto entre trabajadores, es fundamental:",
                    options: [
                        "Decidir r√°pidamente qui√©n tiene raz√≥n",
                        "Establecer reglas de di√°logo y permitir expresi√≥n equitativa de ambas partes",
                        "Hablar solo con el trabajador m√°s experimentado",
                        "Enfocar en eventos del pasado"
                    ],
                    correct: 1,
                    explanation: "La mediaci√≥n efectiva requiere estructura, equidad y enfoque en entendimiento mutuo para soluciones sostenibles."
                },
                {
                    question: "La fase 'L' (Listening) en CALM enfatiza:",
                    options: [
                        "Escuchar solo los hechos t√©cnicos",
                        "Escuchar para comprender, no para responder, identificando emociones subyacentes",
                        "Escuchar para encontrar errores en el argumento",
                        "Escuchar solo lo que confirma tu punto de vista"
                    ],
                    correct: 1,
                    explanation: "Escuchar efectivamente requiere comprensi√≥n emp√°tica profunda, no preparaci√≥n de respuestas o b√∫squeda de fallas."
                },
                {
                    question: "Para abordar bajo rendimiento persistente, la estrategia m√°s efectiva incluye:",
                    options: [
                        "Amenazas disciplinarias inmediatas",
                        "Ignorar el problema esperando mejora espont√°nea",
                        "Comprensi√≥n de causas, expectativas claras y plan de mejora colaborativo",
                        "Reasignaci√≥n inmediata a otras tareas"
                    ],
                    correct: 2,
                    explanation: "El bajo rendimiento requiere diagn√≥stico de causas, comunicaci√≥n clara de expectativas y desarrollo colaborativo de planes de mejora."
                }
            ]
        };

        // Funciones de inicializaci√≥n
        function initializeApp() {
            updateStats();
            updateProgress();
            checkStreakContinuity();
            showMainNav();
            
            // Event listeners para navegaci√≥n
            document.querySelectorAll('.unit-card').forEach(card => {
                card.addEventListener('click', function() {
                    const unit = parseInt(this.dataset.unit);
                    if (canAccessUnit(unit)) {
                        showContent(unit);
                    } else {
                        showAchievement("‚ö†Ô∏è", "Debes completar la unidad anterior primero");
                    }
                });
            });
        }

        function canAccessUnit(unit) {
            if (unit === 1) return true;
            return appState.completedUnits.includes(unit - 1);
        }

        function updateStats() {
            document.getElementById('pointsDisplay').textContent = appState.points;
            document.getElementById('streakDisplay').textContent = appState.streak;
            document.getElementById('completedDisplay').textContent = `${appState.completedUnits.length}/3`;
            document.getElementById('badgesDisplay').textContent = appState.badges.length;
        }

        function updateProgress() {
            const progress = (appState.completedUnits.length / 3) * 100;
            const progressBar = document.getElementById('mainProgress');
            progressBar.style.width = `${progress}%`;
            progressBar.textContent = `${Math.round(progress)}% Completado`;
            
            // Actualizar estado visual de las unidades
            document.querySelectorAll('.unit-card').forEach((card, index) => {
                const unit = index + 1;
                card.classList.remove('completed', 'current');
                
                if (appState.completedUnits.includes(unit)) {
                    card.classList.add('completed');
                    card.querySelector('.unit-status').className = 'unit-status status-completed';
                    card.querySelector('.unit-status').textContent = 'Completada';
                } else if (canAccessUnit(unit)) {
                    card.classList.add('current');
                    card.querySelector('.unit-status').className = 'unit-status status-in-progress';
                    card.querySelector('.unit-status').textContent = 'Disponible';
                } else {
                    card.querySelector('.unit-status').className = 'unit-status status-locked';
                    card.querySelector('.unit-status').textContent = 'Bloqueado';
                }
            });
        }

        function checkStreakContinuity() {
            const today = new Date().toDateString();
            const lastDate = appState.lastStudyDate;
            
            if (lastDate !== today) {
                if (lastDate) {
                    const last = new Date(lastDate);
                    const current = new Date(today);
                    const diffDays = Math.floor((current - last) / (1000 * 60 * 60 * 24));
                    
                    if (diffDays === 1) {
                        appState.streak++;
                        showAchievement("üî•", `¬°Racha de ${appState.streak} d√≠as!`);
                    } else if (diffDays > 1) {
                        appState.streak = 1;
                        showAchievement("üÜï", "Nueva racha iniciada");
                    }
                } else {
                    appState.streak = 1;
                }
                
                appState.lastStudyDate = today;
                saveState();
            }
        }

        // Funciones de navegaci√≥n
        function showMainNav() {
            document.getElementById('mainNav').style.display = 'grid';
            document.querySelectorAll('.content-area').forEach(area => {
                area.style.display = 'none';
            });
            document.getElementById('gameArea').style.display = 'none';
            document.getElementById('quizArea').style.display = 'none';
            appState.currentSection = 'nav';
        }

        function showContent(unit) {
            appState.currentUnit = unit;
            appState.currentSection = 'content';
            
            document.getElementById('mainNav').style.display = 'none';
            document.querySelectorAll('.content-area').forEach(area => {
                area.style.display = 'none';
            });
            document.getElementById(`content-${unit}`).style.display = 'block';
            document.getElementById('gameArea').style.display = 'none';
            document.getElementById('quizArea').style.display = 'none';

            // Scroll to top
            window.scrollTo(0, 0);
        }

        // Funciones de juegos
        function startGames(unit) {
            appState.currentUnit = unit;
            appState.currentGameType = 0;
            appState.currentGamePhase = 0;
            appState.currentSection = 'game';
            
            document.getElementById('mainNav').style.display = 'none';
            document.querySelectorAll('.content-area').forEach(area => {
                area.style.display = 'none';
            });
            document.getElementById('gameArea').style.display = 'block';
            document.getElementById('quizArea').style.display = 'none';

            loadGamePhase();
            window.scrollTo(0, 0);
        }

        function loadGamePhase() {
            const games = gamesDatabase[appState.currentUnit];
            if (!games || appState.currentGameType >= games.length) {
                completeAllGames();
                return;
            }

            const currentGame = games[appState.currentGameType];
            if (!currentGame.phases || appState.currentGamePhase >= currentGame.phases.length) {
                nextGameType();
                return;
            }

            const phase = currentGame.phases[appState.currentGamePhase];
            
            document.getElementById('gameTitle').textContent = currentGame.type;
            document.getElementById('gamePhase').textContent = `Fase ${appState.currentGamePhase + 1} de ${currentGame.phases.length}`;
            
            const gameContent = document.getElementById('gameContent');
            gameContent.innerHTML = `
                <h3>${phase.title}</h3>
                <div class="scenario-box">
                    <h4>üìã Situaci√≥n:</h4>
                    <p>${phase.scenario}</p>
                </div>
                <h4>${phase.question}</h4>
                <div class="options-grid">
                    ${phase.options.map((option, index) => `
                        <div class="option-card" onclick="selectGameOption(${index})" data-option="${index}">
                            ${option}
                        </div>
                    `).join('')}
                </div>
                <div id="gameExplanation" style="display: none; margin-top: 20px; padding: 15px; background: rgba(255,255,255,0.2); border-radius: 10px;">
                    <h4>üí° Explicaci√≥n:</h4>
                    <p id="explanationText"></p>
                </div>
            `;

            document.getElementById('gameNext').style.display = 'none';
            document.getElementById('gameComplete').style.display = 'none';
        }

        function selectGameOption(selectedIndex) {
            const games = gamesDatabase[appState.currentUnit];
            const currentGame = games[appState.currentGameType];
            const phase = currentGame.phases[appState.currentGamePhase];
            
            // Remover selecci√≥n previa
            document.querySelectorAll('.option-card').forEach(card => {
                card.classList.remove('selected', 'correct', 'incorrect');
            });

            // Marcar respuestas
            document.querySelectorAll('.option-card').forEach((card, index) => {
                if (index === phase.correct) {
                    card.classList.add('correct');
                } else if (index === selectedIndex && index !== phase.correct) {
                    card.classList.add('incorrect');
                }
            });

            // Mostrar explicaci√≥n
            document.getElementById('explanationText').textContent = phase.explanation;
            document.getElementById('gameExplanation').style.display = 'block';

            // Otorgar puntos
            if (selectedIndex === phase.correct) {
                appState.points += 10;
                updateGamePoints();
            }

            // Mostrar bot√≥n siguiente
            if (appState.currentGamePhase < currentGame.phases.length - 1) {
                document.getElementById('gameNext').style.display = 'inline-block';
            } else if (appState.currentGameType < gamesDatabase[appState.currentUnit].length - 1) {
                document.getElementById('gameNext').style.display = 'inline-block';
            } else {
                document.getElementById('gameComplete').style.display = 'inline-block';
            }
        }

        function nextGamePhase() {
            appState.currentGamePhase++;
            loadGamePhase();
        }

        function nextGameType() {
            appState.currentGameType++;
            appState.currentGamePhase = 0;
            loadGamePhase();
        }

        function completeGame() {
            appState.points += 50; // Bonus por completar juegos
            showAchievement("üéÆ", `¬°Juegos completados! +50 puntos bonus`);
            saveState();
            updateStats();
            
            setTimeout(() => {
                showContent(appState.currentUnit);
            }, 2000);
        }

        function completeAllGames() {
            completeGame();
        }

        function exitGame() {
            showContent(appState.currentUnit);
        }

        function updateGamePoints() {
            document.getElementById('gamePoints').textContent = appState.points;
        }

        // Funciones de quiz
        function startQuiz(unit) {
            appState.currentUnit = unit;
            appState.currentQuizQuestion = 0;
            appState.currentQuizAnswers = [];
            appState.selectedAnswer = null;
            appState.currentSection = 'quiz';

            document.getElementById('mainNav').style.display = 'none';
            document.querySelectorAll('.content-area').forEach(area => {
                area.style.display = 'none';
            });
            document.getElementById('gameArea').style.display = 'none';
            document.getElementById('quizArea').style.display = 'block';

            document.getElementById('quizTitle').textContent = `Evaluaci√≥n - Unidad ${unit}`;
            
            // Establecer el n√∫mero total de preguntas basado en lo que realmente est√° disponible
            const questions = quizDatabase[unit];
            const totalQuestions = questions ? questions.length : 0;
            document.getElementById('totalQ').textContent = totalQuestions.toString();
            document.getElementById('quizScore').textContent = '0';

            loadQuestion();
            window.scrollTo(0, 0);
        }

        function loadQuestion() {
            const questions = quizDatabase[appState.currentUnit];
            const totalQuestions = questions ? questions.length : 0;
            
            if (!questions || appState.currentQuizQuestion >= totalQuestions) {
                finishQuiz();
                return;
            }

            const question = questions[appState.currentQuizQuestion];
            appState.selectedAnswer = null;

            document.getElementById('currentQ').textContent = appState.currentQuizQuestion + 1;
            document.getElementById('totalQ').textContent = totalQuestions.toString();
            document.getElementById('questionText').textContent = question.question;

            const answersGrid = document.getElementById('answersGrid');
            answersGrid.innerHTML = question.options.map((option, index) => `
                <div class="answer-option" onclick="selectAnswer(${index})" data-answer="${index}">
                    ${String.fromCharCode(65 + index)}. ${option}
                </div>
            `).join('');

            document.getElementById('submitAnswer').disabled = true;
            document.getElementById('submitAnswer').style.display = 'inline-block';
            document.getElementById('nextQuestion').style.display = 'none';
            document.getElementById('finishQuiz').style.display = 'none';
        }

        function selectAnswer(index) {
            appState.selectedAnswer = index;
            
            document.querySelectorAll('.answer-option').forEach(option => {
                option.classList.remove('selected');
            });
            document.querySelector(`[data-answer="${index}"]`).classList.add('selected');
            
            document.getElementById('submitAnswer').disabled = false;
        }

        function submitAnswer() {
            if (appState.selectedAnswer === null) return;

            const questions = quizDatabase[appState.currentUnit];
            const question = questions[appState.currentQuizQuestion];
            const isCorrect = appState.selectedAnswer === question.correct;
            const totalQuestions = questions.length;

            // Guardar respuesta
            appState.currentQuizAnswers.push({
                question: appState.currentQuizQuestion,
                selected: appState.selectedAnswer,
                correct: question.correct,
                isCorrect: isCorrect
            });

            // Mostrar respuesta correcta
            document.querySelectorAll('.answer-option').forEach((option, index) => {
                if (index === question.correct) {
                    option.classList.add('correct');
                } else if (index === appState.selectedAnswer && !isCorrect) {
                    option.classList.add('incorrect');
                }
            });

            // Actualizar puntuaci√≥n
            if (isCorrect) {
                appState.points += 5;
                document.getElementById('quizScore').textContent = 
                    parseInt(document.getElementById('quizScore').textContent) + 5;
            }

            document.getElementById('submitAnswer').style.display = 'none';
            
            if (appState.currentQuizQuestion < totalQuestions - 1) {
                document.getElementById('nextQuestion').style.display = 'inline-block';
            } else {
                document.getElementById('finishQuiz').style.display = 'inline-block';
            }
        }

        function nextQuestion() {
            appState.currentQuizQuestion++;
            loadQuestion();
        }

        function finishQuiz() {
            const correctAnswers = appState.currentQuizAnswers.filter(a => a.isCorrect).length;
            const totalQuestions = appState.currentQuizAnswers.length;
            const percentage = Math.round((correctAnswers / totalQuestions) * 100);
            
            // Bonus por completar quiz
            appState.points += 25;
            
            // Marcar unidad como completada si obtiene >= 70%
            if (percentage >= 70 && !appState.completedUnits.includes(appState.currentUnit)) {
                appState.completedUnits.push(appState.currentUnit);
                appState.points += 100; // Bonus por completar unidad
                
                showAchievement("üéì", `¬°Unidad ${appState.currentUnit} completada! Puntuaci√≥n: ${percentage}%`);
            } else if (percentage >= 70) {
                showAchievement("‚úÖ", `¬°Evaluaci√≥n aprobada! Puntuaci√≥n: ${percentage}%`);
            } else {
                showAchievement("üìö", `Puntuaci√≥n: ${percentage}%. Te recomendamos revisar el contenido.`);
            }

            saveState();
            updateStats();
            updateProgress();
            
            setTimeout(() => {
                showMainNav();
            }, 3000);
        }

        function exitQuiz() {
            showContent(appState.currentUnit);
        }

        // Funciones de utilidad
        function showAchievement(icon, message) {
            const modal = document.getElementById('achievementModal');
            const iconElement = modal.querySelector('.achievement-icon');
            const textElement = document.getElementById('achievementText');
            
            iconElement.textContent = icon;
            textElement.textContent = message;
            
            modal.style.display = 'block';
            
            setTimeout(() => {
                modal.style.display = 'none';
            }, 3000);
        }

        function saveState() {
            localStorage.setItem('completedUnits', JSON.stringify(appState.completedUnits));
            localStorage.setItem('points', appState.points.toString());
            localStorage.setItem('streak', appState.streak.toString());
            localStorage.setItem('badges', JSON.stringify(appState.badges));
            localStorage.setItem('gameScores', JSON.stringify(appState.gameScores));
            localStorage.setItem('quizScores', JSON.stringify(appState.quizScores));
            localStorage.setItem('lastStudyDate', appState.lastStudyDate);
        }

        // Inicializar aplicaci√≥n
        document.addEventListener('DOMContentLoaded', initializeApp);
    </script>
</body>
</html>